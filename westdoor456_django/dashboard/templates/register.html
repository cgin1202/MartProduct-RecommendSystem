{% load static %}
<!-- dash/customer.html -->
<!DOCTYPE html>

<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Westdoor456 | Dashboard</title>
  <!-- Tell the browser to be responsive to screen width -->
  <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
  <!-- Bootstrap 3.3.7 -->
  <link rel="stylesheet" href="{% static 'dashboard/bower_components/bootstrap/dist/css/bootstrap.min.css' %}">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="{% static 'dashboard/bower_components/font-awesome/css/font-awesome.min.css' %}">
  <!-- Ionicons -->
  <link rel="stylesheet" href="{% static 'dashboard/bower_components/Ionicons/css/ionicons.min.css' %}">
  <!-- Theme style -->
  <link rel="stylesheet" href="{% static 'dashboard/dist/css/AdminLTE.min.css' %}">
  <!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
  <link rel="stylesheet" href="{% static 'dashboard/dist/css/skins/_all-skins.min.css' %}">
  <!-- Morris chart -->
  <link rel="stylesheet" href="{% static 'dashboard/bower_components/morris.js/morris.css' %}">
  <!-- jvectormap -->
  <link rel="stylesheet" href="{% static 'dashboard/bower_components/jvectormap/jquery-jvectormap.css' %}">
  <!-- Date Picker -->
  <link rel="stylesheet" href="{% static 'dashboard/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css' %}">
  <!-- Daterange picker -->
  <link rel="stylesheet" href="{% static 'dashboard/bower_components/bootstrap-daterangepicker/daterangepicker.css' %}">
  <!-- bootstrap wysihtml5 - text editor -->
  <link rel="stylesheet" href="{% static 'dashboard/plugins/bootstrap-wysihtml5/bootstrap3-wysihtml5.min.css' %}">
  <script src="{% static 'dashboard/bower_components/d3/d3.min.js' %}"></script>
  <script src="{% static 'dashboard/bower_components/d3/d3-legend.min.js' %}"></script>

  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic"> 

  <style>
  .btn-outline-dark,
  .btn-outline-dark:hover {
    border-color: currentcolor;
  }

  .btn-outline-dark {
    border-radius: 5px;
  }

  .btn-outline-dark:hover {
    box-shadow: inset 0 0 0 20rem var(--darken-1);
  }

  .btn-outline-dark:active {
    box-shadow: inset 0 0 0 20rem var(--darken-2),
      inset 0 3px 4px 0 var(--darken-3),
      0 0 1px var(--darken-2);
  }

  .btn-outline-dark:disabled,
  .btn-outline-dark.is-disabled {
    opacity: .5;
  }
  a,a:hover,a:active {
    color:black;
  }
  </style>
</head>


<body class="hold-transition skin-black sidebar-mini">
  <div class="wrapper">
    {% include 'header.html' %}
    {% include 'main-sidebar.html' %}
    <!-- 데이터 테이블 본문 -->
    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
      <!-- Content Header (Page header) -->
      <section class="content-header">
        <h1>
          Customer's statistics
          <small>advanced tables</small>
        </h1>
        <ol class="breadcrumb">
          <li><a href="#"><i class="fa fa-dashboard"></i> Home</a></li>
          <li><a href="#">Cuctomers</a></li>
          <li class="active">Individual</li>
        </ol>
      </section>

      <!-- Main content -->
      <section class="content">
        <div class="row">
            <!-- 카메라 라이브스트림-->
            <div class="col-xs-10">
              <div class="box box-default">
                <div class="box-header with-border">
                  <h3 class="box-title">Camera</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                  <img id="bg" src="http://localhost:8000/face_recogg/cam_register" width="100%">
                </div>
                <!-- /.box-body 카메라 라이브스트림 -->
                <div class="box-footer">
                  <div class="text-center">
                    <button type="button" class="btn btn-outline-dark" id="take-picture">사진 찍기</button>
                    <p id="information" style="display:none"><br>카메라 촬영을 시작합니다</p>
                  </div>
                </div>
              </div>
              <!-- /.box 카메라 라이브스트림 -->
            </div>
            <!-- /.카메라 라이브스트림 끝 -->
        </div>
        <!-- /.카메라 라이브스트림 row 끝 -->

        <!-- 찍은 사진 보여주기 -->
        <!-- <div class="row" id="picture_div" style="display:none">
            <div class="col-xs-10">
              <div class="box box-default">
                <div class="box-header with-border">
                  <h3 class="box-title">Pictures</h3>
                </div>
                <div class="box-body text-center">
                  <img src="{% static '/face_recogg/face_catch/0.jpg' %}" id="picture0" alt="picture0" width="200px" height="150px" class="margin">
                  <img src="{% static '/face_recogg/face_catch/1.jpg' %}" id="picture1" alt="picture1" width="200px" height="150px" class="margin">
                  <img src="{% static '/face_recogg/face_catch/2.jpg' %}" id="picture2" alt="picture2" width="200px" height="150px" class="margin">
                  <img src="{% static '/face_recogg/face_catch/3.jpg' %}" id="picture3" alt="picture3" width="200px" height="150px" class="margin">
                  <img src="{% static '/face_recogg/face_catch/4.jpg' %}" id="picture4" alt="picture4" width="200px" height="150px" class="margin">
                </div>
                <div class="box-footer">
                  <div class="text-center">
                    <p >마음에 드는 사진을 골라주세요</p>
                    <button type="button" class="btn btn-outline-dark"><a href="picture_register.html">사진 등록하기</a></button>
                    <button type="button" class="btn btn-outline-dark">다시 찍기</button>
                    <button type="button" class="btn btn-outline-dark"><a href="picture.html">취소</a></button>
                  </div>
                </div>
              </div>
            </div>
        </div> -->
        <!-- /.찍은 사진 보여주기 row 끝 -->
      </section>
      <!-- /.content -->
    </div>
    {% include 'footer.html' %}    
  </div>
</body>

<!-- ./wrapper -->


<script src="{% static 'dashboard/dist/js/customer.js' %}"></script>
<!-- jQuery 3 -->
<script src="{% static 'dashboard/bower_components/jquery/dist/jquery.min.js' %}"></script>
<!-- Bootstrap 3.3.7 -->
<script src="{% static 'dashboard/bower_components/bootstrap/dist/js/bootstrap.min.js' %}"></script>
<!-- DataTables -->
<script src="{% static 'dashboard/bower_components/datatables.net/js/jquery.dataTables.js' %}"></script>
<script src="{% static 'dashboard/bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js' %}"></script>
<!-- SlimScroll -->
<script src="{% static 'dashboard/bower_components/jquery-slimscroll/jquery.slimscroll.min.js' %}"></script>
<!-- FastClick -->
<script src="{% static 'dashboard/bower_components/fastclick/lib/fastclick.js' %}"></script>
<!-- AdminLTE App -->
<script src="{% static 'dashboard/dist/js/adminlte.min.js' %}"></script>
<!-- AdminLTE for demo purposes -->
<script src="{% static 'dashboard/dist/js/demo.js' %}"></script>
<!-- page script -->
<script>
  function sleep(ms){
    ts1 = new Date().getTime() + ms;
    do ts2 = new Date().getTime(); while (ts2<ts1);
  }
  $(document).on('click','#take-picture',function() {
    $.ajax({
      url:'{% url "face_catch" %}',
      dataType:'json',
      type:'POST',
      data:{'msg':"pushed"},
      success:function(result){
      }
    });

    var info = document.getElementById("information");
    info.style.display = 'block';
    var time = 3;
    playTimer = setInterval(function(){
      info.innerHTML = time+"초 동안 카메라를 응시해주세요";
      time--;
      if(time==-1){
        info.style.display = 'none';
        clearInterval(playTimer);
      }
    }, 1000)
  });
</script>
</html>
